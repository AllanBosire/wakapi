meta {
  name: Create heartbeats (alt 7, single)
  type: http
  seq: 8
}

post {
  url: {{BASE_URL}}/api/users/current/heartbeats
  body: json
  auth: bearer
}

auth:bearer {
  token: {{WRITEUSER_TOKEN}}
}

body:json {
  {
      "entity": "/home/user1/dev/project1/main.go",
      "project": "wakapi",
      "language": "Go",
      "is_write": true,
      "type": "file",
      "category": null,
      "branch": null,
      "time": {{ts1}}
  }
}

script:post-response {
  test("Status code is 201", function () {
      expect(res.getStatus()).to.equal(201);
  });
  
  test("Response body is correct", function () {
      var jsonData = res.getBody();
      expect(jsonData.responses.length).to.eql(1);
      expect(jsonData.responses[0].length).to.eql(2);
      expect(jsonData.responses[0][1]).to.eql(201);
  });
}
